1. Приготовьте свой собственный inventory файл prod.yml
![img_171.png](img_171.png)<br/>
2, 3, 4. Допишите playbook: нужно сделать ещё один play, который устанавливает и настраивает kibana.<br/>
При создании tasks рекомендую использовать модули: get_url, template, unarchive, file.<br/>
Tasks должны: скачать нужной версии дистрибутив, выполнить распаковку в выбранную директорию, сгенерировать конфигурацию с параметрами.<br/>
![img_172.png](img_172.png)
5.Запустите ansible-lint site.yml и исправьте ошибки, если они есть.
ошибки исправлены<br/>
![img_173.png](img_173.png)<br/>
6.Попробуйте запустить playbook на этом окружении с флагом --check.<br/>
![img_180.png](img_180.png)<br/>
![img_174.png](img_174.png)<br/>
7.Запустите playbook на prod.yml окружении с флагом --diff. Убедитесь, что изменения на системе произведены.<br/>
![img_175.png](img_175.png)
![img_176.png](img_176.png)
8.Повторно запустите playbook с флагом --diff и убедитесь, что playbook идемпотентен.<br/>
![img_177.png](img_177.png)<br/>
![img_179.png](img_179.png)<br/>
9.Подготовьте README.md файл по своему playbook. В нём должно быть описано: что делает playbook, какие у него есть параметры и теги.<br/>
playbook выполняет загрузку, распаковку архивов, создание каталогов и установку Elasticsearch 8.3.3, Kibana 7.7.0, JDK 11.0.16
Elasticsearch 8.3.3, Kibana 7.7.0 не получается скачать даже через VPN:
![img_181.png](img_181.png)
поэтому пакеты Elasticsearch и Kibana загружены со сторонних источников и установка выполняется по аналогии с Java
Переменные для хостов заданы в файлах vars.yml в каталоге group_vars, шаблоны для установки переменных окружения для хостов заданы в файлах *.j2 в каталоге templates.
В тасках установлены теги для облегчения диагностики.
